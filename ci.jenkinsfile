#!groovy

String buildShell = "${env.buildShell}"
pipeline {
	agent { node { label "master" } }

	stages {
		stage('mvnBuild') {
			steps {
				script {
					//mvnHome = tool "M3" // jenkins 全局工具中配置的变量
					mvnHome = "/usr/local/maven3"
					sh "${mvnHome}/bin/mvn ${buildShell}"
				}
			}
		}
		stage('antBuild') {
			steps {
				script {
					//antHome = tool "ANT" // jenkins 全局工具中配置的变量
					antHome = "/usr/local/ant"
					sh "${antHome}/bin/ant ${buildShell}"	
				}
			}
		}
	}
}
